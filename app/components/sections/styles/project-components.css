:root { --project-cover-offset: 96px; }

.project-shell { max-width:800px; margin-inline:auto; width:100%; display:flex; flex-direction:column; gap:0; box-sizing:border-box; }
.project-layout { position:relative; min-height:100vh; width:100%; display:flex; flex-direction:column; background: var(--bg-main); }
.project-home-logo,
.sticky-logo {
  position:fixed;
  top:var(--project-cover-offset, 96px);
  left:var(--section-padding-inline-lg);
  z-index:1100;
  display:flex;
  align-items:flex-start;
  justify-content:flex-start;
  width:64px;
  height:64px;
  border-radius:50%;
  background:transparent;
  border:none;
  padding:0;
  box-sizing:border-box;
  transition:transform .25s ease;
}
.project-home-logo img,
.sticky-logo img { width:100%; height:auto; display:block; }
.project-home-logo:hover,
.sticky-logo:hover { transform:translateY(-2px) scale(1.05); }
@media (max-width: 768px){
  .project-home-logo,
  .sticky-logo {
    top: 18px;
    left: 16px;
    width: 44px;
    height: 44px;
    border-radius: 12px;
    background: var(--surface-layer-bg);
    border: 1px solid var(--surface-card-border);
    box-shadow: var(--surface-card-shadow);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(var(--surface-card-blur));
  }

  .project-home-logo img,
  .sticky-logo img {
    width: 26px;
    height: auto;
  }
}
@media (max-width: 480px){
  .project-home-logo,
  .sticky-logo {
    top: 12px;
    left: 12px;
    width: 40px;
    height: 40px;
    border-radius: 10px;
  }

  .project-home-logo img,
  .sticky-logo img {
    width: 22px;
  }
}
.video-embed { position:relative; width:100%; aspect-ratio:16/9; border-radius:inherit; overflow:hidden; background:rgba(var(--text-title-rgb),0.08); }
.video-embed iframe,
.video-embed video {
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  display:block;
  border:0;

}
.project-cover { position:relative; width:100%; aspect-ratio:4/3; border-radius:18px; overflow:hidden; background: var(--bg-main); margin-top:var(--project-cover-offset, 96px); }
.project-cover-media { object-fit:cover; width:100%; height:100%; position:absolute; inset:0; }
.project-cover-embed { position:relative; width:100%; height:100%; }
.project-cover-embed iframe { width:100%; height:100%; display:block; }
.project-head { display:flex; flex-direction:column; gap:16px; margin-top:96px; margin-bottom:96px; }
.project-title-head {
  font-family: var(--instrument-serif-font, serif);
  font-size: var(--font-size-project-title);
  line-height: 1.15;
  margin: 0;
  font-weight: 400;
  color: var(--color-12);
}
.project-caption-head { font-size: 1.125rem; line-height:1.5; color: var(--color-7,#7C8999); margin:0; }
.project-actions { display:flex; flex-wrap:wrap; gap:12px; }

.project-figure {
  margin: 0;
  border-radius: var(--radius-lg);
  overflow: hidden;
  background: rgba(var(--text-title-rgb), 0.02);
}

.project-figure :where(img, picture, video, iframe) {
  display: block;
  width: 100%;
  height: auto;
  border-radius: inherit;
}

.project-meta { display: flex; flex-direction: column; gap: 12px; }
.project-meta-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:20px 28px; margin:8px 0 4px; padding:0; }
.project-meta-grid.cols-3 { grid-template-columns: repeat(3, 1fr); }
@media (max-width: 820px){ .project-meta-grid.cols-3 { grid-template-columns: repeat(2,1fr); } }
@media (max-width: 560px){ .project-meta-grid.cols-3 { grid-template-columns: 1fr; } }
.project-meta-grid dt {
  font-size: var(--font-size-meta-label);
  letter-spacing: .02em;
  text-transform: uppercase;
  color: var(--color-8);
  margin: 0 0 4px;
  font-weight: 600;
}

.project-meta-grid dd {
  margin: 0;
  font-size: var(--font-size-meta-value);
  line-height: 1.55;
  color: var(--color-12);
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.project-meta-basic {
  display: flex;
  flex-wrap: wrap;
  gap: 12px 18px;
  margin: 16px 0 12px;
}

.project-meta-basic-item {
  display: flex;
  align-items: baseline;
  gap: 6px;
  font-size: var(--font-size-4);
  color: var(--color-12);
}

.project-meta-basic-label {
  font-weight: 600;
  letter-spacing: .08em;
  text-transform: uppercase;
  color: rgba(var(--text-title-rgb), 0.75);
}

.project-meta-basic-value {
  display: inline-flex;
  gap: 0;
  flex-wrap: wrap;
}

.project-meta-basic-value .project-meta-separator {
  color: rgba(var(--text-title-rgb), 0.45);
}

.project-meta-basic-value > * {
  display: inline-flex;
  align-items: center;
}
.project-meta-cell { min-width:0; }
.project-meta-box {
  background: none;
  border: none;
  border-radius: 0;
  padding: 0;
  margin-top: calc(var(--paragraph-spacing) * 0.66);
}

.project-body { display:flex; flex-direction:column; gap: clamp(56px,10vh,96px); margin-bottom:96px; }
.project-section-block { display:flex; flex-direction:column; gap:12px; }
.project-section-block .project-section-title { font-size: var(--font-size-lg); line-height:1.25; margin:0; font-weight:600; }
.project-section-content { display:flex; flex-direction:column; }
.project-section-content > * + * { margin-top: var(--project-subsection-gap, var(--space-paragraph-content)); }
.project-section-content > p + .project-figure { margin-top: var(--space-paragraph-content); }
.project-section-content > .project-figure + p { margin-top: var(--space-paragraph-content); }
.project-section-content > p + p { margin-top: var(--space-heading-paragraph); }
.project-eyebrow { font-size: var(--font-size-sm); font-weight:500; letter-spacing:.06em; text-transform:uppercase; color: var(--color-6,#5C6772); }

.project-section-subblock > h3 { font-size: var(--font-size-project-subheading); line-height:1.35; font-weight:500; margin:0; }

.project-section-subblock { display:flex; flex-direction:column; }
.project-section-subblock > p { margin:0 !important; }
.project-section-subblock > p:first-of-type { margin-top:var(--space-heading-paragraph) !important; }
.project-section-subblock > p:not(:first-of-type) { margin-top:var(--space-paragraph-content) !important; }
.project-section-subblock > p + :where(img, picture, video, figure) { margin-top:var(--space-paragraph-content); }
.project-section-subblock > :where(img, picture, video, figure) + p { margin-top:var(--space-paragraph-content) !important; }
.project-section-subblock > *:not(h3):not(p) { margin-top:var(--space-paragraph-content); }

.project-section-block p {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  font-size: 1rem;
  line-height: 1.55;
}
.project-section-block p + p { margin-top: var(--space-heading-paragraph) !important; }

.project-quad-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:20px; width:100%; }
.project-quad-grid.cols-3 { grid-template-columns:repeat(3,1fr); }
.project-quad-grid.cols-4 { grid-template-columns:repeat(4,1fr); }
@media (max-width: 960px) { .project-quad-grid.cols-3 { grid-template-columns:repeat(2,1fr); } }
@media (max-width: 640px) {
  .project-quad-grid.cols-3,
  .project-quad-grid.cols-4 { grid-template-columns:1fr; }
}
.project-quad-item { background: var(--surface-card-bg); border:1px solid var(--surface-card-border); border-radius:14px; padding:18px 20px; display:flex; flex-direction:column; gap:14px; }
.project-quad-item h3 { margin:0; font-size: var(--font-size-md); font-weight:600; }
.project-quad-item p { margin:0; font-size: var(--font-size-sm); color: var(--text-muted); line-height:1.5; }

.assumption-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap: var(--grid-gap-md); }
.assumption-card { background: var(--surface-card-bg); border: 1px solid var(--surface-card-border); border-radius: var(--radius-md); padding: clamp(18px, 2.4vw, 24px); display:flex; flex-direction:column; gap: 12px; box-sizing:border-box; min-height:100%; }
.assumption-title { margin:0; font-size: var(--font-size-md); font-family: var(--font-family); line-height:1.35; color: var(--color-12); font-weight:600; letter-spacing: var(--tracking-normal); }
.assumption-facts { margin:0; display:flex; flex-direction:column; gap: var(--space-heading-paragraph); }
.assumption-row { display:flex; flex-direction:column; gap:6px; }
.assumption-row dt { font-size: var(--font-size-sm); letter-spacing:.08em; text-transform:uppercase; color: rgba(var(--text-title-rgb), 0.7); font-weight:600; }
.assumption-row dd { margin:0; font-size: var(--font-size-sm); line-height:1.6; color: var(--color-12); }
.assumption-card p { margin:0; font-size: var(--font-size-sm); line-height:1.6; color: rgba(var(--text-title-rgb), 0.82); }

.project-image-reel { display:flex; gap:16px; overflow-x:auto; padding:4px 4px 8px; scroll-snap-type:x mandatory; max-width:800px; width:100%; }
.project-reel-frame { flex:0 0 auto; width:280px; aspect-ratio:4/5; border-radius:16px; overflow:hidden; position:relative; scroll-snap-align:start; background: var(--bg-main); }
.project-reel-img { width:100%; height:100%; object-fit:cover; }

.project-carousel { display:flex; flex-direction:column; gap: var(--space-paragraph-content); width:100%; --carousel-thumb-height:clamp(120px, 14vw, 160px); --carousel-thumb-height-mobile:clamp(96px, 32vw, 120px); --carousel-height: clamp(280px, 64vw, 520px); }
.project-carousel-main { position:relative; width:100%; aspect-ratio: var(--carousel-ratio, 16/9); overflow:hidden; border-radius:18px; background: var(--surface-card-bg); border:1px solid var(--surface-card-border); }
.project-carousel-frame { position:absolute; inset:0; }
.project-carousel-img { object-fit:cover; object-position:center; background: transparent; }
.project-carousel-controls { display:flex; align-items:center; justify-content:space-between; gap: var(--grid-gap-sm); }
.project-carousel-control { background: var(--surface-card-bg); border:1px solid var(--surface-card-border); border-radius:9999px; padding:8px 16px; font-size: var(--font-size-sm); color: var(--color-12); cursor:pointer; transition: border-color .25s ease, background-color .25s ease, color .25s ease; }
.project-carousel-control:hover { border-color: var(--surface-card-border-strong); background: rgba(var(--text-title-rgb), 0.08); }
.project-carousel-control:focus-visible { outline:2px solid rgba(var(--text-title-rgb),0.6); outline-offset:2px; }
.project-carousel-counter { font-size: var(--font-size-sm); color: rgba(var(--text-title-rgb), 0.74); font-weight:500; letter-spacing:0.04em; }
.project-carousel-thumbs { display:flex; flex-wrap:wrap; gap:12px; padding:6px 4px 4px; justify-content:center; }
.project-carousel-thumb { position:relative; flex:0 0 calc((100% - (var(--carousel-thumb-columns, 4) - 1) * 12px) / var(--carousel-thumb-columns, 4)); max-width:calc((100% - (var(--carousel-thumb-columns, 4) - 1) * 12px) / var(--carousel-thumb-columns, 4)); aspect-ratio: 16/9; border:none; padding:0; cursor:pointer; overflow:hidden; background:transparent; outline:none; display:block; border-radius:10px; transition:opacity .25s ease; }
.project-carousel-thumb::after { content:""; position:absolute; inset:0; background: var(--overlay-dark); transition: background .25s ease, opacity .25s ease; opacity:1; pointer-events:none; }
.project-carousel-thumb > span { position:absolute !important; inset:0 !important; display:block !important; }
.project-carousel-thumb > span > span { position:absolute !important; inset:0 !important; display:block !important; }
.project-carousel-thumb:hover::after { background: var(--overlay-dark-hover); }
.project-carousel-thumb:focus-visible { outline:2px solid rgba(var(--text-title-rgb),0.6); outline-offset:2px; }
.project-carousel-thumb.is-active { z-index:1; }
.project-carousel-thumb.is-active::after { opacity:0; }
.project-carousel-thumb-img { object-fit:cover; object-position:center; width:100%; height:100%; display:block; position:absolute; inset:0; }
.project-carousel-thumbs::-webkit-scrollbar { height:6px; }
.project-carousel-thumbs::-webkit-scrollbar-track { background:transparent; }
.project-carousel-thumbs::-webkit-scrollbar-thumb { background:rgba(var(--text-title-rgb),0.18); border-radius:20px; }

@media (max-width: 720px) {
  .project-carousel-thumb { flex-basis:calc((100% - (var(--carousel-thumb-columns-mobile, 2) - 1) * 12px) / var(--carousel-thumb-columns-mobile, 2)); max-width:calc((100% - (var(--carousel-thumb-columns-mobile, 2) - 1) * 12px) / var(--carousel-thumb-columns-mobile, 2)); }
}

.project-stats-grid { display:flex; flex-wrap:wrap; gap:28px; width:100%; align-items:stretch; }
@media (max-width: 760px) { .project-stats-grid { flex-direction:column; gap:20px; } }
.project-stat-card { background: var(--surface-card-bg); border:1px solid var(--surface-card-border); border-radius:16px; padding:20px 20px 18px; display:flex; flex-direction:column; gap:18px; position:relative; box-sizing:border-box; flex:1 1 240px; max-width:100%; min-height:220px; transition:border-color .25s ease; }
.project-stat-card:hover { border-color: var(--surface-card-border-strong); }
.project-stat-title { margin:0; font-weight:500; font-size: var(--font-size-lg); color: var(--text-paragraph, var(--color-9,#BCC3CA)); text-align:center; }
.project-stat-body { flex:1; display:flex; flex-direction:column; justify-content:center; align-items:center; gap:16px; }

.project-distribution { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:12px; width:100%; }
.project-distribution-row { display:grid; grid-template-columns:72px 1fr 42px; align-items:center; gap:10px; font-size: var(--font-size-sm); }
.project-distribution-label { color: var(--text-paragraph, var(--color-8,#9AA4AD)); }
.project-distribution-track { position:relative; height:8px; background:rgba(var(--text-title-rgb),0.08); border-radius:4px; overflow:hidden; }
.project-distribution-fill { position:absolute; inset:0; background: var(--color-6,#5C6772); border-radius:4px; transition:width .7s ease; }
.project-distribution-value { text-align:right; font-weight:600; color: var(--text-paragraph, var(--color-10,#D0D6DB)); font-size: var(--font-size-sm); }

.project-donut { width:128px; aspect-ratio:1/1; position:relative; display:flex; align-items:center; justify-content:center; margin-inline:auto; }
.project-donut-svg { width:100%; height:100%; transform:rotate(-90deg); }
.project-donut-ring { fill:none; stroke:rgba(var(--text-title-rgb),0.12); stroke-width:10; }
.project-donut-segment { fill:none; stroke: var(--color-6,#5C6772); stroke-width:10; stroke-linecap:round; transition:stroke-dasharray 1s ease; }
.project-donut-value { position:absolute; font-weight:600; font-size: var(--font-size-lg); color: var(--text-paragraph, var(--color-9,#BCC3CA)); line-height:1; }

.project-progress { display:flex; flex-direction:column; align-items:center; gap:18px; width:100%; }
.project-progress-value { font-weight:600; font-size: clamp(1.6rem,3vw,2.2rem); line-height:1; color: var(--text-paragraph, var(--color-9,#BCC3CA)); }
.project-progress-track { width:100%; height:10px; background:rgba(var(--text-title-rgb),0.08); border-radius:6px; overflow:hidden; position:relative; }
.project-progress-fill { position:absolute; top:0; left:0; bottom:0; width:var(--progress-target,0); background: var(--color-6,#5C6772); border-radius:6px; animation: projectProgressFill 1s ease forwards; }

@keyframes projectProgressFill {
  from { width:0; }
  to { width: var(--progress-target, 76%); }
}

.project-visual-full { width:100%; max-width:800px; margin:0; display:block; }
.project-visual-full img,
.project-visual-full video,
.project-visual-full iframe { width:100%; height:auto; display:block; }

.project-divider { border:none; border-top:1px solid rgba(var(--text-title-rgb), 0.08); margin:0; }

.project-content { max-width: 800px; margin-inline: auto; padding: 0 16px; position: relative; box-sizing: border-box; overflow: hidden; }
body[data-project="pulse"] .project-content, body[data-project="reach"] .project-content { max-width: 1000px; }
.project-section { width:100%; max-width:800px; margin:60px auto; padding:0; position:relative; box-sizing:border-box; }
.project-section:first-of-type { margin-top:100px; }
body[data-project="pulse"] .project-section, body[data-project="reach"] .project-section { max-width:1000px; }
@media (max-width: 768px){
  .project-content { padding:0 16px; }
  .project-section { margin:40px auto; }
  .project-section:first-of-type { margin-top:60px; }
}
@media (max-width: 480px){
  .project-content { padding:0 12px; }
  .project-section { margin:30px auto; }
}

@media (max-width: 760px) {
  .project-shell { gap:0; }
  .project-body { gap: clamp(48px,12vh,80px); }
  .project-quad-grid { grid-template-columns:1fr; }
  .project-cover { border-radius:14px; }
}

@media (max-width: 768px) {
  .project-shell {
    padding-left: 16px;
    padding-right: 16px;
  }
}

  .carousel-wrapper { width:100%; overflow:hidden; }
  .carousel-track { display:flex; gap:var(--gap,28px); overflow-x:auto; padding:6px 8px 10px; scroll-snap-type:x proximity; -webkit-overflow-scrolling:touch; scrollbar-width:none; }
  .carousel-track::-webkit-scrollbar { display:none; }
  .carousel-item { scroll-snap-align:start; position:relative; border-radius:18px; overflow:hidden; background:transparent; border:none; height:220px; width:var(--item-width,340px); flex:0 0 var(--item-width,340px); }
  .carousel-item:before { display:none; }
  .carousel-media { width:100%; height:100%; object-fit:cover; display:block; border-radius:inherit; }
  .carousel-track.dragging { cursor:grabbing; }
  .carousel-track:not(.dragging) { cursor:grab; }
